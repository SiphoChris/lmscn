{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "progress-tracker",
  "type": "registry:component",
  "title": "Progress Tracker",
  "description": "Gamified zigzag lesson map with XP bar, level badge, daily streak and tooltip-rich lesson nodes.",
  "registryDependencies": [
    "badge",
    "card",
    "progress",
    "tooltip"
  ],
  "files": [
    {
      "path": "registry/default/progress-tracker/progress-tracker.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\nimport { CheckCircle2, Lock, Zap, Star, Trophy } from \"lucide-react\"\n\n// â”€â”€â”€ Types â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nexport type LessonStatus =\n  | \"completed\"\n  | \"current\"\n  | \"locked\"\n  | \"available\"\n\nexport type LessonType =\n  | \"quiz\"\n  | \"flashcards\"\n  | \"match\"\n  | \"reading\"\n  | \"video\"\n  | \"exercise\"\n  | \"scramble\"\n  | \"order\"\n  | \"hotspot\"\n  | \"spaced-repetition\"\n\nexport interface LessonNode {\n  id: string\n  title: string\n  status: LessonStatus\n  /** XP earned (completed) or awarded (future) */\n  xp?: number\n  type?: LessonType\n  /** Score 0-100 if completed */\n  score?: number\n}\n\nexport interface LearningUnit {\n  id: string\n  title: string\n  lessons: LessonNode[]\n}\n\nexport interface ProgressTrackerData {\n  learnerName?: string\n  totalXp: number\n  /** XP threshold to reach the next level */\n  xpToNextLevel: number\n  level: number\n  /** Daily streak in days */\n  streak?: number\n  units: LearningUnit[]\n}\n\nexport interface ProgressTrackerProps {\n  progressTrackerData: ProgressTrackerData\n  onLessonSelect?: (lesson: LessonNode) => void\n  className?: string\n}\n\n// â”€â”€â”€ Helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nconst TYPE_LABEL: Record<LessonType, string> = {\n  quiz: \"Q\",\n  flashcards: \"F\",\n  match: \"M\",\n  reading: \"R\",\n  video: \"â–¶\",\n  exercise: \"âœŽ\",\n  scramble: \"S\",\n  order: \"O\",\n  hotspot: \"H\",\n  \"spaced-repetition\": \"SR\",\n}\n\ninterface StatusConfig {\n  nodeClass: string\n  icon?: React.ReactNode\n}\n\nconst STATUS_CONFIG: Record<LessonStatus, StatusConfig> = {\n  completed: {\n    nodeClass:\n      \"bg-green-500 border-green-600 shadow-md shadow-green-200 dark:shadow-green-900\",\n    icon: <CheckCircle2 className=\"size-5 text-white\" />,\n  },\n  current: {\n    nodeClass:\n      \"bg-primary border-primary/80 shadow-md shadow-primary/30 ring-4 ring-primary/20 animate-pulse\",\n    icon: <Zap className=\"size-5 text-white\" />,\n  },\n  available: {\n    nodeClass:\n      \"bg-background border-primary/50 hover:border-primary hover:bg-primary/5\",\n  },\n  locked: {\n    nodeClass: \"bg-muted border-muted-foreground/20 opacity-60 cursor-not-allowed\",\n    icon: <Lock className=\"size-4 text-muted-foreground\" />,\n  },\n}\n\n// â”€â”€â”€ Component â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nexport function ProgressTracker({\n  progressTrackerData,\n  onLessonSelect,\n  className,\n}: ProgressTrackerProps) {\n  const { learnerName, totalXp, xpToNextLevel, level, streak, units } =\n    progressTrackerData\n\n  const xpProgress = Math.min((totalXp / xpToNextLevel) * 100, 100)\n\n  return (\n    <TooltipProvider>\n      <div\n        className={cn(\"w-full max-w-md mx-auto space-y-6\", className)}\n      >\n        {/* XP / Level header */}\n        <div className=\"rounded-xl border bg-card p-4 space-y-3\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              {learnerName && (\n                <p className=\"text-xs text-muted-foreground\">\n                  Welcome back,\n                </p>\n              )}\n              <p className=\"font-semibold\">\n                {learnerName ?? \"Your Progress\"}\n              </p>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              {streak !== undefined && streak > 0 && (\n                <Badge variant=\"secondary\" className=\"gap-1\">\n                  ðŸ”¥ {streak} day{streak > 1 ? \"s\" : \"\"}\n                </Badge>\n              )}\n              <Badge className=\"gap-1\">\n                <Trophy className=\"size-3\" />\n                Lvl {level}\n              </Badge>\n            </div>\n          </div>\n\n          <div className=\"space-y-1\">\n            <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\n              <span className=\"flex items-center gap-1\">\n                <Star className=\"size-3 text-yellow-500\" />\n                {totalXp} XP\n              </span>\n              <span>\n                {xpToNextLevel} XP to Level {level + 1}\n              </span>\n            </div>\n            <Progress value={xpProgress} className=\"h-2\" />\n          </div>\n        </div>\n\n        {/* Units */}\n        {units.map((unit) => {\n          const completed = unit.lessons.filter(\n            (l) => l.status === \"completed\"\n          ).length\n          const unitProgress = (completed / unit.lessons.length) * 100\n\n          return (\n            <div key={unit.id} className=\"space-y-3\">\n              <div className=\"flex items-center justify-between\">\n                <h3 className=\"font-medium text-sm\">{unit.title}</h3>\n                <span className=\"text-xs text-muted-foreground\">\n                  {completed}/{unit.lessons.length}\n                </span>\n              </div>\n              <Progress value={unitProgress} className=\"h-1\" />\n\n              {/* Zigzag lesson path */}\n              <div className=\"flex flex-col items-center gap-3\">\n                {unit.lessons.map((lesson, i) => {\n                  const config = STATUS_CONFIG[lesson.status]\n                  const isClickable =\n                    lesson.status === \"available\" ||\n                    lesson.status === \"current\"\n\n                  return (\n                    <div\n                      key={lesson.id}\n                      className={cn(\n                        \"flex items-center gap-3 w-full\",\n                        i % 2 === 0\n                          ? \"flex-row\"\n                          : \"flex-row-reverse\"\n                      )}\n                    >\n                      <div className=\"flex-1\" />\n\n                      <Tooltip>\n                        <TooltipTrigger asChild>\n                          <button\n                            disabled={!isClickable}\n                            onClick={() =>\n                              isClickable && onLessonSelect?.(lesson)\n                            }\n                            className={cn(\n                              \"flex size-14 shrink-0 flex-col items-center justify-center rounded-full border-2 transition-transform duration-150 text-sm font-bold\",\n                              isClickable &&\n                                \"hover:scale-110 active:scale-95\",\n                              config.nodeClass\n                            )}\n                            aria-label={lesson.title}\n                          >\n                            {config.icon ??\n                              (lesson.type ? (\n                                <span\n                                  className={cn(\n                                    \"text-xs font-bold\",\n                                    lesson.status === \"available\"\n                                      ? \"text-primary\"\n                                      : \"text-muted-foreground\"\n                                  )}\n                                >\n                                  {TYPE_LABEL[lesson.type]}\n                                </span>\n                              ) : null)}\n                          </button>\n                        </TooltipTrigger>\n                        <TooltipContent>\n                          <div className=\"space-y-0.5\">\n                            <p className=\"font-medium text-sm\">\n                              {lesson.title}\n                            </p>\n                            {lesson.xp && (\n                              <p className=\"text-xs text-muted-foreground\">\n                                {lesson.status === \"completed\"\n                                  ? `âœ“ +${lesson.xp} XP`\n                                  : `+${lesson.xp} XP`}\n                              </p>\n                            )}\n                            {lesson.score !== undefined && (\n                              <p className=\"text-xs text-muted-foreground\">\n                                Score: {lesson.score}%\n                              </p>\n                            )}\n                          </div>\n                        </TooltipContent>\n                      </Tooltip>\n\n                      <div className=\"flex-1\">\n                        <p className=\"text-xs font-medium\">\n                          {lesson.title}\n                        </p>\n                        {lesson.status === \"completed\" &&\n                          lesson.score !== undefined && (\n                            <p className=\"text-[10px] text-muted-foreground\">\n                              {lesson.score}%\n                            </p>\n                          )}\n                        {lesson.xp &&\n                          lesson.status !== \"completed\" && (\n                            <p className=\"text-[10px] text-muted-foreground\">\n                              +{lesson.xp} XP\n                            </p>\n                          )}\n                      </div>\n                    </div>\n                  )\n                })}\n              </div>\n            </div>\n          )\n        })}\n      </div>\n    </TooltipProvider>\n  )\n}\n",
      "type": "registry:component"
    }
  ]
}